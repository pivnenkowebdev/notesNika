(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();const o=t=>{const e=document.createElement(t.tagName);t.text&&(e.innerText=t.text),t.classList&&e.classList.add(...t.classList);for(const a in t.attributes)e.setAttribute(a,t.attributes[a]);return e},g="notes",h=t=>JSON.stringify(t),y=(t,e)=>{localStorage.setItem(t,e)},M=t=>localStorage.getItem(t),$=t=>JSON.parse(t),J=()=>{const t=M(g);if(t)return $(t);y(g,h({regular:[],favorite:[]}))},_=t=>{const e={title:t.get("title"),checkbox:t.get("checkbox"),textarea:t.get("textarea"),isEdit:null},a=t.get("oldId");a&&R(a,e),e.date=O(),e.id=q(t.get("checkbox")),F(e),y(g,h(c))},R=(t,e)=>{const a=T(t);if(a){const s=e.title!==a.title,n=e.checkbox!==a.checkbox,r=e.textarea!==a.textarea;(s||n||r)&&(C(t),e.isEdit=!0)}},U=t=>{const e=T(t);e.isEdit=!0,e.checkbox?e.checkbox=null:e.checkbox="on",C(t),e.date=O(),e.id=q(e.checkbox),F(e),y(g,h(c))},F=t=>{t.checkbox?c.favorite.push(t):c.regular.push(t)},O=()=>{const t=new Date,e=t.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),a=t.toLocaleDateString("ru-RU");return{currentTime:e,currentDate:a}},q=t=>{let e=null;return t?e=c.favorite.length+"favorite":e=c.regular.length+"regular",e},W=(t,e,a)=>{for(let s=t;s<e.length;s++)e[s].id=parseInt(e[s].id)-1+a},C=t=>{if(t){const e=t.endsWith("favorite"),[a,s]=e?[c.favorite,"favorite"]:[c.regular,"regular"],n=a.findIndex(r=>r.id===t);a.splice(n,1),W(n,a,s),y(g,h(c))}},T=t=>{if(t){const a=t.endsWith("favorite")?c.favorite:c.regular,s=a.findIndex(r=>r.id===t);return a[s]}},c=J(),z={tagName:"ul",classList:["flex","flex-col","gap-4","max-w-[900px]","w-full","max-h-[450px]","overflow-x-hidden","list","px-4"],attributes:{id:"list"}},I={tagName:"li",text:"",classList:["border-2","border-cyan-600","duration-300","rounded-md","px-3","py-2"],attributes:{"data-item":""}},G={tagName:"div",text:"",classList:["flex","flex-wrap","justify-between","items-center"],attributes:{}},D={tagName:"h6",text:"",classList:["text-cyan-600","dark:text-white","font-medium","text-xl","duration-300","min-w-[200px]"],attributes:{value:"","data-note-header":""}},K={tagName:"div",text:"",classList:[],attributes:{}},V={tagName:"button",text:"",classList:["bg-[url('/star-btn.svg')]","dark:bg-[url('/star-btn-night.svg')]","w-6","h-6","bg-no-repeat","bg-center","duration-300"],attributes:{"data-action":"status"}},j={tagName:"button",text:"",classList:["bg-[url('/star-btn-gold.svg')]","dark:bg-[url('/star-btn-gold.svg')]","w-6","h-6","bg-no-repeat","bg-center","duration-300"],attributes:{"data-action":"status"}},Q={tagName:"button",text:"",classList:["bg-[url('/edit-btn.svg')]","dark:bg-[url('/edit-btn-night.svg')]","w-6","h-6","bg-no-repeat","bg-center","duration-300"],attributes:{"data-action":"edit"}},X={tagName:"button",text:"",classList:["bg-[url('/trash-btn.svg')]","dark:bg-[url('/trash-btn-night.svg')]","w-6","h-6","bg-no-repeat","bg-center","duration-300"],attributes:{"data-action":"remove"}},A={tagName:"p",text:"",classList:["dark:text-slate-400","duration-300"],attributes:{"data-note-text":""}},Y={tagName:"div",text:"",classList:["w-full","mobile:w-fit","flex","gap-4","items-center","justify-between","mobile:justify-start"],attributes:{}},Z={tagName:"span",text:"",classList:["text-slate-400","min-w-[215px]"],attributes:{}},b=()=>{const t=document.querySelector("#list");t&&(t.innerHTML="")},i=t=>{let e=document.querySelector("#list");const a=document.createDocumentFragment();if(!e){const s=document.body;e=o(z),s.append(e),e.addEventListener("click",n=>tt(n))}t.forEach(s=>{I.attributes.id=s.id;const n=o(I),r=o(G);D.text=s.title?s.title:"";const l=o(D),d=o(Y),x=o(Z),m=s.isEdit?"Changed":"Created";x.innerText=`${m} ${s.date.currentDate} at ${s.date.currentTime}`;const u=o(K);let v=s.checkbox?o(j):o(V);const p=o(Q),w=o(X);A.text=s.textarea?s.textarea:"";const k=o(A);n.append(r),r.append(l),d.append(x),d.append(u),r.append(d),u.append(v),u.append(p),u.append(w),n.append(k),a.append(n)}),e.append(a)},tt=t=>{const e=t.target.closest("[data-action]");let a=null,s=null;e&&(s=e.closest("[data-item]").id,a=e.dataset.action);const n=!0;switch(a){case"remove":C(s),b(),i(c.favorite),i(c.regular);break;case"edit":H(n,T(s));break;case"status":U(s),b(),i(c.favorite),i(c.regular)}},N={tagName:"form",text:"",classList:["max-w-4xl","mobile:w-[98%]","w-11/12","bg-white","px-5","py-7","mobile:px-7","mobile:py-9","absolute","top-[50%]","left-[50%]","translate-x-[-50%]","translate-y-[-50%]","rounded-xl","dark:bg-gray-900","duration-300"],attributes:{id:"form"}},et={tagName:"div",text:"",classList:["w-full","h-screen","bg-[#e0e0e0bc]","dark:bg-[#15576bdc]","backdrop-blur-sm","fixed","left-0","top-0","duration-300"],attributes:{}},at={tagName:"header",text:"",classList:["flex","gap-1","mobile:gap-2","max-w-[350px]","w-full","items-center","mb-4","border-b-2","pb-2","border-cyan-600","duration-300"],attributes:{}},E={tagName:"input",text:"",classList:["text-black","mobile:text-2xl","text-xl","font-medium","outline-none","dark:bg-gray-900","duration-300","dark:text-white"],attributes:{placeholder:"Введите заголовок",name:"title"}},st={tagName:"label",text:"",classList:[],attributes:{}},P={tagName:"input",text:"",classList:["real-checkbox"],attributes:{type:"checkbox",name:"checkbox"}},nt={tagName:"span",text:"",classList:["fake-checkbox","w-6","h-6","block",'bg-[url("/star-btn.svg")]',"bg-no-repeat","bg-contain","bg-center","cursor-pointer",'dark:bg-[url("/star-btn-night.svg")]',"duration-300"],attributes:{}},S={tagName:"textarea",text:"",classList:["min-h-48","max-h-96","resize-y","w-full","textarea","outline-none","mb-4","dark:bg-gray-900","duration-300","dark:text-white","focus:shadow-[0_0_8px_1px]","focus:shadow-slate-400","dark:focus:shadow-cyan-600","rounded-lg","p-2"],attributes:{placeholder:"Введите текст",name:"textarea"}},rt={tagName:"div",text:"",classList:["gap-4","flex","justify-end"],attributes:{}},ot={tagName:"button",text:"Cancel",classList:["bg-rose-500","rounded-lg","w-24","h-8","text-white","dark:bg-rose-800","duration-300"],attributes:{type:"reset","data-reset":""}},B={tagName:"button",text:"Add",classList:["bg-cyan-600","rounded-lg","w-24","h-8","text-white","duration-300"],attributes:{}},H=(t=!1,e={})=>{if(!document.querySelector("#form")){const s=document.body,n=o(et);e.id?N.attributes["data-note"]=e.id:delete N.attributes["data-note"];const r=o(N),l=o(at);e.title?E.attributes.value=e.title:delete E.attributes.value;const d=o(E);e.textarea?S.text=e.textarea:delete S.text;const x=o(S),m=o(rt),u=o(ot);t?B.text="Edit":B.text="Add";const v=o(B),p=o(st);e.checkbox?P.attributes.checked=e.checkbox:delete P.attributes.checked;const w=o(P),k=o(nt);s.append(n),s.append(r),r.append(l),l.append(d),p.append(w),p.append(k),l.append(p),r.append(x),r.append(m),m.append(u),m.append(v),d.focus(),r.addEventListener("submit",L=>{it(L),f(r),f(n)}),r.addEventListener("click",L=>ct(L,r,n))}},ct=(t,e,a)=>{t.target.closest("[data-reset]")&&(f(e),f(a))},it=t=>{t.preventDefault();const e=new FormData(t.target);e.append("oldId",t.target.dataset.note),_(e),b(),i(c.favorite),i(c.regular)},f=t=>{t.remove()},lt={tagName:"button",text:"",classList:["flex","items-center","gap-2","outline-none"],attributes:{}},dt={tagName:"span",text:"Add note",classList:["text-2xl","font-medium","text-cyan-600","dark:text-white","duration-300"],attributes:{}},ut={tagName:"span",text:"",classList:["h-8","w-8","block","bg-no-repeat","bg-center","bg-contain","bg-[url('/btn-add-icon.svg')]","dark:bg-[url('/btn-add-icon-night.svg')]","duration-300"],attributes:{}},bt=()=>{const t=o(lt),e=o(dt),a=o(ut);return t.append(e,a),t.addEventListener("click",()=>H()),t},mt={tagName:"div",classList:["flex","gap-2"],attributes:{}},pt={tagName:"button",text:"All Notes",classList:["border-2","border-cyan-600","rounded-lg","py-2","px-2","text-white","dark:text-white","bg-cyan-600"],attributes:{"data-action":"all"}},gt={tagName:"button",text:"Favorites",classList:["border-2","border-cyan-600","rounded-lg","py-2","px-2","text-cyan-600","dark:text-white"],attributes:{"data-action":"favorite"}},xt=()=>{const t=o(mt),e=o(pt),a=o(gt);return t.append(e,a),t.addEventListener("click",s=>{ft(s),ht(s)}),t},ft=t=>{const e=t.target.closest("[data-action]");let a;switch(e&&(a=e.dataset.action),a){case"all":b(),i(c.favorite),i(c.regular);break;case"favorite":b(),i(c.favorite);break}},ht=t=>{const a=t.currentTarget.querySelectorAll("[data-action]"),s=t.target.closest("[data-action]");a.forEach(n=>{n.classList.remove("text-white","bg-cyan-600"),n.classList.add("text-cyan-600")}),s.classList.add("bg-cyan-600","text-white"),console.log(t.target)},yt={tagName:"input",classList:["border-cyan-600","border-2","rounded-lg","pl-2","pr-8","max-w-[180px]","md:max-w-[234px]","outline-none"],attributes:{}},vt={tagName:"div",text:"",classList:["absolute","top-[50%]","translate-y-[-50%]","left-2","translate-x-[-90%]","w-0","overflow-hidden","duration-500","wrapper-input"],attributes:{}},wt={tagName:"div",classList:["h-10","w-10","relative","form-search"],attributes:{id:"formSearch"}},kt={tagName:"button",classList:["h-10","w-10","bg-cyan-600","dark:bg-white","rounded-full","flex","justify-center","items-center","duration-300","absolute","top-[50%]","left-[50%]","translate-x-[-50%]","translate-y-[-50%]","search-button","border-2","border-cyan-600"],attributes:{id:"searchButton"}},Lt={tagName:"span",classList:["bg-[url('/search.svg')]","dark:bg-[url('/search-night.svg')]","h-8","w-8","block","bg-no-repeat","bg-center","duration-300","bg-cover","icon-search"],attributes:{}},Nt=()=>{const t=o(yt),e=o(wt),a=o(kt),s=o(Lt),n=o(vt);return e.append(n),n.append(t),e.append(a),a.append(s),e.addEventListener("click",r=>Et(r)),t.addEventListener("input",r=>Pt(r)),e},Et=t=>{const e=t.target.closest("#searchButton");if(e){const a=e.closest("#formSearch");a&&a.classList.toggle("open")}},Pt=t=>{const e=t.target.value.toLowerCase();document.querySelectorAll("[data-item]").forEach(s=>{const n=s.querySelector("[data-note-text]").innerText,r=s.querySelector("[data-note-header]").innerText;n.toLowerCase().includes(e)||r.toLowerCase().includes(e)?s.style.display="block":s.style.display="none"})},St={tagName:"header",text:"",classList:["border-b-2","border-cyan-600","duration-300","py-4","px-2","max-w-7xl","mx-auto","w-[96%]","flex","justify-between"],attributes:{}},Bt={tagName:"h1",text:"To-Do",classList:["text-cyan-600","text-3xl","font-medium","dark:text-white","duration-300"],attributes:{}},Ct={tagName:"button",text:"",classList:["h-10","w-10","bg-cyan-600","dark:bg-white","rounded-full","flex","justify-center","items-center","duration-300","border-2","border-cyan-600"],attributes:{}},Tt={tagName:"span",text:"",classList:["h-6","w-6","dark:h-8","dark:w-8","block","bg-no-repeat","bg-center","bg-[url('/sun-icon.svg')]","dark:bg-[url('/moon.svg')]","duration-300","bg-cover"]},It={tagName:"div",text:"",classList:["flex","gap-4"],attributes:{}},Dt=()=>{const t=o(St),e=o(Bt),a=o(Ct),s=o(Tt);a.append(s);const n=Nt(),r=o(It);return a.addEventListener("click",At),t.append(e),t.append(r),r.append(n,a),t},At=()=>{document.querySelector("html").classList.toggle("dark")},Ft=()=>{const t=document.body,e=Dt(),a=bt(),s=xt();t.append(e),t.append(a),t.append(s),b(),i(c.favorite),i(c.regular)};Ft();
